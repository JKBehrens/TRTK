<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Transformation and Registration Toolkit: TRTK::Diffusion Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<script src="../mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespace_t_r_t_k.html">TRTK</a>      </li>
      <li><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html">Diffusion</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>TRTK::Diffusion Namespace Reference</h1>  </div>
</div>
<div class="contents">

<p>This namespace contains various functions regarding diffusion processes.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">BorderInterpolation</a> { <br/>
&#160;&#160;<a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614">CONTINUED</a>, 
<a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fafcde73372cca4e2d492bdca27d6275e4">CIRCULAR</a>, 
<a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa7ffd79b04778eff37771de3e7090b5d7">INTERPOLATED</a>, 
<a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa5230ff7f81d556bffbabd62c9787e918">REFLECTED</a>, 
<br/>
&#160;&#160;<a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3">ZERO</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Interpolation method for border values. </p>
 <a href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a638f7cf0e236aab0d2b425895589e488">Error</a> { <a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a638f7cf0e236aab0d2b425895589e488a9de81c976c77d2741959382f8936d81e">INVALID_ARGUMENT</a>, 
<a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a638f7cf0e236aab0d2b425895589e488a8133c47c038ecaf0018ab9a7a4a449ea">UNKNOWN_ERROR</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Error Codes. </p>
 <a href="namespace_t_r_t_k_1_1_diffusion.html#a638f7cf0e236aab0d2b425895589e488">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a265a8b5a0b2671f60533f640b2c6999e"></a><!-- doxytag: member="TRTK::Diffusion::print" ref="a265a8b5a0b2671f60533f640b2c6999e" args="(const std::vector&lt; T &gt; &amp;data)" -->
template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>print</b> (const std::vector&lt; T &gt; &amp;data)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">const std::vector&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de">firstDerivative</a> (const std::vector&lt; T &gt; &amp;signal, const <a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">BorderInterpolation</a> interpolation=CONTINUED)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the 1st derivative of a 1-dimensional signal.  <a href="#a1c527385781ea15485336f143561b3de"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">const std::vector&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#aee6dc8fc48a6549e0aa8cdb514a3ba70">secondDerivative</a> (const std::vector&lt; T &gt; &amp;signal, const <a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">BorderInterpolation</a> interpolation=CONTINUED)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the 2nd derivative of a 1-dimensional signal.  <a href="#aee6dc8fc48a6549e0aa8cdb514a3ba70"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">const std::vector&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#aa6580c900e47a1aecff24a101b87cfef">linearDiffusion</a> (const std::vector&lt; T &gt; &amp;signal, T time, T step_size=0.25, <a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">BorderInterpolation</a> interpolation_method=CONTINUED)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">1-dimensional linear diffusion.  <a href="#aa6580c900e47a1aecff24a101b87cfef"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">const std::vector&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1">nonlinearIsotropicDiffusion</a> (const std::vector&lt; T &gt; &amp;signal, T time, T step_size=0.25, T alpha=0.0, <a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">BorderInterpolation</a> interpolation_method=CONTINUED)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">1-dimensional nonlinear isotropic diffusion.  <a href="#afc3207b53c183061635b58850cf420d1"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">const std::vector&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#ab684a9a65faefcca71bef82c22cb0edb">nonlinearIsotropicDiffusion</a> (const std::vector&lt; T &gt; &amp;signal, T(*diffusivity)(T), T time, T step_size=0.25, <a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">BorderInterpolation</a> interpolation_method=CONTINUED)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">1-dimensional nonlinear isotropic diffusion.  <a href="#ab684a9a65faefcca71bef82c22cb0edb"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This namespace contains various functions regarding diffusion processes. </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a000aaab57a12719e7b6cdfeea44c948f"></a><!-- doxytag: member="TRTK::Diffusion::BorderInterpolation" ref="a000aaab57a12719e7b6cdfeea44c948f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">TRTK::Diffusion::BorderInterpolation</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Interpolation method for border values. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614"></a><!-- doxytag: member="CONTINUED" ref="a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614" args="" -->CONTINUED</em>&nbsp;</td><td>
<p>Values outside the bounds of the data are the same as the nearest valid border values. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a000aaab57a12719e7b6cdfeea44c948fafcde73372cca4e2d492bdca27d6275e4"></a><!-- doxytag: member="CIRCULAR" ref="a000aaab57a12719e7b6cdfeea44c948fafcde73372cca4e2d492bdca27d6275e4" args="" -->CIRCULAR</em>&nbsp;</td><td>
<p>Values outside the bounds of the data are computed by implicitly assuming the data is periodic. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a000aaab57a12719e7b6cdfeea44c948fa7ffd79b04778eff37771de3e7090b5d7"></a><!-- doxytag: member="INTERPOLATED" ref="a000aaab57a12719e7b6cdfeea44c948fa7ffd79b04778eff37771de3e7090b5d7" args="" -->INTERPOLATED</em>&nbsp;</td><td>
<p>Values outside the bounds of the data are linearly extrapolated from the nearest valid border values. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a000aaab57a12719e7b6cdfeea44c948fa5230ff7f81d556bffbabd62c9787e918"></a><!-- doxytag: member="REFLECTED" ref="a000aaab57a12719e7b6cdfeea44c948fa5230ff7f81d556bffbabd62c9787e918" args="" -->REFLECTED</em>&nbsp;</td><td>
<p>Values outside the bounds of the data are computed by reflecting the data. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3"></a><!-- doxytag: member="ZERO" ref="a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3" args="" -->ZERO</em>&nbsp;</td><td>
<p>Values outside the bounds of the data are assumed to be zero. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_diffusion_8hpp_source.html#l00059">59</a> of file <a class="el" href="_diffusion_8hpp_source.html">Diffusion.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a638f7cf0e236aab0d2b425895589e488"></a><!-- doxytag: member="TRTK::Diffusion::Error" ref="a638f7cf0e236aab0d2b425895589e488" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a638f7cf0e236aab0d2b425895589e488">TRTK::Diffusion::Error</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Error Codes. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a638f7cf0e236aab0d2b425895589e488a9de81c976c77d2741959382f8936d81e"></a><!-- doxytag: member="INVALID_ARGUMENT" ref="a638f7cf0e236aab0d2b425895589e488a9de81c976c77d2741959382f8936d81e" args="" -->INVALID_ARGUMENT</em>&nbsp;</td><td>
<p>An invalid argument was assigned. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a638f7cf0e236aab0d2b425895589e488a8133c47c038ecaf0018ab9a7a4a449ea"></a><!-- doxytag: member="UNKNOWN_ERROR" ref="a638f7cf0e236aab0d2b425895589e488a8133c47c038ecaf0018ab9a7a4a449ea" args="" -->UNKNOWN_ERROR</em>&nbsp;</td><td>
<p>An unknown error occurred. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_diffusion_8hpp_source.html#l00071">71</a> of file <a class="el" href="_diffusion_8hpp_source.html">Diffusion.hpp</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a1c527385781ea15485336f143561b3de"></a><!-- doxytag: member="TRTK::Diffusion::firstDerivative" ref="a1c527385781ea15485336f143561b3de" args="(const std::vector&lt; T &gt; &amp;signal, const BorderInterpolation interpolation=CONTINUED)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;T&gt; TRTK::Diffusion::firstDerivative </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"> <em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BorderInterpolation&#160;</td>
          <td class="paramname"> <em>interpolation</em> = <code>CONTINUED</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the 1st derivative of a 1-dimensional signal. </p>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">T</td><td>scalar type (must be a floating point type)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>input signal </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interpolation</td><td><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">interpolation method</a> for the border values</td></tr>
  </table>
  </dd>
</dl>
<p>The derivative is computed by convolving <code>signal</code> with the kernel <code>[0.5 0 -0.5]</code>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Derivative of the input signal.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_t_r_t_k_1_1_error_obj.html" title="Error class that incorporates additional information.">ErrorObj</a></td><td>If an unknown interpolation method is assigned, an error object is thrown and its error code is set to <code>INVALID_ARGUMENT</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>Here ist an example:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;iostream&gt;</span>
<span class="preprocessor"> #include &lt;vector&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_diffusion_8hpp.html" title="This file contains several diffusion functions as well as some helper functions.">TRTK/Diffusion.hpp</a>&gt;</span>

 <span class="keyword">using namespace </span>TRTK;
 <span class="keyword">using namespace </span>TRTK::Diffusion;

 <span class="keywordtype">void</span> print(<span class="keyword">const</span> std::vector&lt;double&gt; &amp; data)
 {
     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; data.size(); ++i)
     {
         std::cout.precision(2);
         std::cout.width(8);
         std::cout &lt;&lt; std::fixed &lt;&lt; data[i];
     }
     std::cout &lt;&lt; std::endl;
 }

 <span class="keywordtype">int</span> main()
 {
     std::vector&lt;double&gt; signal;

     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; 10; ++i)
     {
         signal.push_back(0.5 * i);
     }

     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de" title="Computes the 1st derivative of a 1-dimensional signal.">firstDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614" title="Values outside the bounds of the data are the same as the nearest valid border values.">CONTINUED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de" title="Computes the 1st derivative of a 1-dimensional signal.">firstDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa7ffd79b04778eff37771de3e7090b5d7" title="Values outside the bounds of the data are linearly extrapolated from the nearest valid border values...">INTERPOLATED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de" title="Computes the 1st derivative of a 1-dimensional signal.">firstDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa5230ff7f81d556bffbabd62c9787e918" title="Values outside the bounds of the data are computed by reflecting the data.">REFLECTED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de" title="Computes the 1st derivative of a 1-dimensional signal.">firstDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3" title="Values outside the bounds of the data are assumed to be zero.">ZERO</a>));

     signal.clear();

     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; 10; ++i)
     {
         signal.push_back(i * i + 3);
     }

     std::cout &lt;&lt; std::endl;
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de" title="Computes the 1st derivative of a 1-dimensional signal.">firstDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614" title="Values outside the bounds of the data are the same as the nearest valid border values.">CONTINUED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de" title="Computes the 1st derivative of a 1-dimensional signal.">firstDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa7ffd79b04778eff37771de3e7090b5d7" title="Values outside the bounds of the data are linearly extrapolated from the nearest valid border values...">INTERPOLATED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de" title="Computes the 1st derivative of a 1-dimensional signal.">firstDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa5230ff7f81d556bffbabd62c9787e918" title="Values outside the bounds of the data are computed by reflecting the data.">REFLECTED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a1c527385781ea15485336f143561b3de" title="Computes the 1st derivative of a 1-dimensional signal.">firstDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3" title="Values outside the bounds of the data are assumed to be zero.">ZERO</a>));

     <span class="keywordflow">return</span> 0;
 }
</pre></div><p>Output:</p>
<div class="fragment"><pre class="fragment"> 0.25    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.25
 0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50
 0.25    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.25
 0.25    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50   -2.00

 0.50    2.00    4.00    6.00    8.00   10.00   12.00   14.00   16.00    8.50
 1.00    2.00    4.00    6.00    8.00   10.00   12.00   14.00   16.00   17.00
 0.50    2.00    4.00    6.00    8.00   10.00   12.00   14.00   16.00    8.50
 2.00    2.00    4.00    6.00    8.00   10.00   12.00   14.00   16.00  -33.50
</pre></div><dl class="author"><dt><b>Author:</b></dt><dd>Christoph Haenisch </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1.1 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>last changed on 2011-11-17 </dd></dl>

<p>Definition at line <a class="el" href="_diffusion_8hpp_source.html#l00178">178</a> of file <a class="el" href="_diffusion_8hpp_source.html">Diffusion.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa6580c900e47a1aecff24a101b87cfef"></a><!-- doxytag: member="TRTK::Diffusion::linearDiffusion" ref="aa6580c900e47a1aecff24a101b87cfef" args="(const std::vector&lt; T &gt; &amp;signal, T time, T step_size=0.25, BorderInterpolation interpolation_method=CONTINUED)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;T&gt; TRTK::Diffusion::linearDiffusion </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"> <em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>step_size</em> = <code>0.25</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BorderInterpolation&#160;</td>
          <td class="paramname"> <em>interpolation_method</em> = <code>CONTINUED</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1-dimensional linear diffusion. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>input signal \( f(x, t = 0) \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>diffusion time \( t_{end} \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">step_size</td><td>should be less than 0.25 to guarantee stability </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interpolation_method</td><td><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">interpolation method</a> used for the differentiation</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the diffused signal \( f(x, t = t_{end}) \).</dd></dl>
<p>This function computes the diffusion of a given signal \( f(x, t = 0) \) by solving the following diffusion equation:</p>
<p class="formulaDsp">
\[ \frac{d}{dt} f(x, t) = \frac{d^2}{dx^2} f(x, t) \]
</p>
<p>Note, that the above diffusion is equivalent to a convolution with a Gaussian kernel with variance \( \sigma = \sqrt{2t_{end}} \).</p>
<p>Here is an example:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;iostream&gt;</span>
<span class="preprocessor"> #include &lt;vector&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_diffusion_8hpp.html" title="This file contains several diffusion functions as well as some helper functions.">TRTK/Diffusion.hpp</a>&gt;</span>

 <span class="keyword">using namespace </span>TRTK;
 <span class="keyword">using namespace </span>TRTK::Diffusion;

 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> sz&gt;
 char (&amp;array(T(&amp;)[sz]))[sz];

 <span class="keywordtype">void</span> print(<span class="keyword">const</span> std::vector&lt;double&gt; &amp; data)
 {
     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; data.size(); ++i)
     {
         std::cout.precision(2);
         std::cout.width(8);
         std::cout &lt;&lt; std::fixed &lt;&lt; data[i];
     }
     std::cout &lt;&lt; std::endl;
 }

 <span class="keywordtype">int</span> main()
 {
     <span class="keywordtype">double</span> data[] = {0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
                      1.0, 1.0, 1.0, 1.0, 1.0, 1.0};

     std::vector&lt;double&gt; signal =
             std::vector&lt;double&gt;(data, data + <span class="keyword">sizeof</span> array(data));

     <span class="keywordflow">for</span> (<span class="keywordtype">double</span> time = 0; time &lt;= 1; time += 0.25)
     {
         print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aa6580c900e47a1aecff24a101b87cfef" title="1-dimensional linear diffusion.">linearDiffusion</a>(signal, time, 0.25));
     }

     std::cout &lt;&lt; std::endl;
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aa6580c900e47a1aecff24a101b87cfef" title="1-dimensional linear diffusion.">linearDiffusion</a>(signal, 2.0, 0.25, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614" title="Values outside the bounds of the data are the same as the nearest valid border values.">CONTINUED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aa6580c900e47a1aecff24a101b87cfef" title="1-dimensional linear diffusion.">linearDiffusion</a>(signal, 2.0, 0.25, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa7ffd79b04778eff37771de3e7090b5d7" title="Values outside the bounds of the data are linearly extrapolated from the nearest valid border values...">INTERPOLATED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aa6580c900e47a1aecff24a101b87cfef" title="1-dimensional linear diffusion.">linearDiffusion</a>(signal, 2.0, 0.25, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa5230ff7f81d556bffbabd62c9787e918" title="Values outside the bounds of the data are computed by reflecting the data.">REFLECTED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aa6580c900e47a1aecff24a101b87cfef" title="1-dimensional linear diffusion.">linearDiffusion</a>(signal, 2.0, 0.25, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3" title="Values outside the bounds of the data are assumed to be zero.">ZERO</a>));

     std::cout &lt;&lt; std::endl;
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aa6580c900e47a1aecff24a101b87cfef" title="1-dimensional linear diffusion.">linearDiffusion</a>(signal, 1000.0, 0.25, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614" title="Values outside the bounds of the data are the same as the nearest valid border values.">CONTINUED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aa6580c900e47a1aecff24a101b87cfef" title="1-dimensional linear diffusion.">linearDiffusion</a>(signal, 1000.0, 0.25, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3" title="Values outside the bounds of the data are assumed to be zero.">ZERO</a>));

     <span class="keywordflow">return</span> 0;
 }
</pre></div><p>Output:</p>
<div class="fragment"><pre class="fragment">  0.00    0.00    0.00    0.00    0.00    0.00    1.00    1.00    1.00    1.00    1.00    1.00
  0.00    0.00    0.00    0.00    0.00    0.25    0.75    1.00    1.00    1.00    1.00    1.00
  0.00    0.00    0.00    0.00    0.06    0.31    0.69    0.94    1.00    1.00    1.00    1.00
  0.00    0.00    0.00    0.02    0.11    0.34    0.66    0.89    0.98    1.00    1.00    1.00
  0.00    0.00    0.00    0.04    0.14    0.36    0.64    0.86    0.96    1.00    1.00    1.00

  0.00    0.01    0.04    0.11    0.23    0.40    0.60    0.77    0.89    0.96    0.99    1.00
  0.00    0.01    0.04    0.11    0.23    0.40    0.60    0.77    0.89    0.96    0.99    1.00
  0.00    0.01    0.04    0.11    0.23    0.40    0.60    0.77    0.89    0.96    0.99    1.00
  0.00    0.01    0.04    0.11    0.23    0.40    0.60    0.76    0.85    0.82    0.66    0.37

  0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50    0.50
  0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>An interpolation method of "INTERPOLATED" might invalidate the minimum-maximum principle of this diffusion equation.</dd></dl>
<dl class="user"><dt><b>References:</b></dt><dd>Perona and Malik, "Scale-space and edge detection using
             anisotropic diffusion", Pattern Analysis and Machine Intelligence, 1990</dd></dl>
<dl class="user"><dt><b>References:</b></dt><dd>Brox et al., "Nonlinear Structure Tensors", Image and Vision Computing, 2006</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Christoph Haenisch </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1.0 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>last changed on 2011-06-22 </dd></dl>

<p>Definition at line <a class="el" href="_diffusion_8hpp_source.html#l00576">576</a> of file <a class="el" href="_diffusion_8hpp_source.html">Diffusion.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="afc3207b53c183061635b58850cf420d1"></a><!-- doxytag: member="TRTK::Diffusion::nonlinearIsotropicDiffusion" ref="afc3207b53c183061635b58850cf420d1" args="(const std::vector&lt; T &gt; &amp;signal, T time, T step_size=0.25, T alpha=0.0, BorderInterpolation interpolation_method=CONTINUED)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;T&gt; TRTK::Diffusion::nonlinearIsotropicDiffusion </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"> <em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>step_size</em> = <code>0.25</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>alpha</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BorderInterpolation&#160;</td>
          <td class="paramname"> <em>interpolation_method</em> = <code>CONTINUED</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1-dimensional nonlinear isotropic diffusion. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>input signal \( f(x, t = 0) \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>diffusion time \( t_{end} \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">step_size</td><td>should be less than 0.25 to guarantee stability </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alpha</td><td>steers the diffusion process; should between 0 and 1.5 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interpolation_method</td><td><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">interpolation method</a> used for the differentiation</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the diffused signal \( f(x, t = t_{end}) \).</dd></dl>
<p>This function computes the diffusion of a given signal \( f(x, t = 0) \) by solving the following diffusion equation:</p>
<p class="formulaDsp">
\[ \frac{d}{dt} f(x, t) = \frac{d}{dx} \left[ \frac{1}{| \frac{d}{dx} f(x, t) |^\alpha} \cdot \frac{d}{dx} f(x, t) \right] \]
</p>
<p>Note, if \( \alpha = 0 \), the above diffusion is a linear diffusion which is equivalent to a convolution with a Gaussian kernel with variance \( \sigma = \sqrt{2t_{end}} \), and if \( \alpha = 1 \), the diffusion is equivalent to the total variation (TV) flow.</p>
<p>Here is an example:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;iostream&gt;</span>
<span class="preprocessor"> #include &lt;vector&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_diffusion_8hpp.html" title="This file contains several diffusion functions as well as some helper functions.">TRTK/Diffusion.hpp</a>&gt;</span>

 <span class="keyword">using namespace </span>TRTK;
 <span class="keyword">using namespace </span>TRTK::Diffusion;

 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> sz&gt;
 char (&amp;array(T(&amp;)[sz]))[sz];

 <span class="keywordtype">void</span> print(<span class="keyword">const</span> std::vector&lt;double&gt; &amp; data)
 {
     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; data.size(); ++i)
     {
         std::cout.precision(4);
         std::cout.width(8);
         std::cout &lt;&lt; std::fixed &lt;&lt; data[i];
     }
     std::cout &lt;&lt; std::endl;
 }

 <span class="keywordtype">int</span> main()
 {
     <span class="keywordtype">double</span> data[] = {0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
                      1.0, 1.0, 1.0, 1.0, 1.0, 1.0};

     std::vector&lt;double&gt; signal =
             std::vector&lt;double&gt;(data, data + <span class="keyword">sizeof</span> array(data));

     <span class="keywordflow">for</span> (<span class="keywordtype">double</span> time = 0; time &lt;= 1; time += 0.25)
     {
         print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1" title="1-dimensional nonlinear isotropic diffusion.">nonlinearIsotropicDiffusion</a>(signal, time, 0.25));
     }

     std::cout &lt;&lt; std::endl;
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1" title="1-dimensional nonlinear isotropic diffusion.">nonlinearIsotropicDiffusion</a>(signal, 2.0, 0.25, 0.0, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614" title="Values outside the bounds of the data are the same as the nearest valid border values.">CONTINUED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1" title="1-dimensional nonlinear isotropic diffusion.">nonlinearIsotropicDiffusion</a>(signal, 2.0, 0.25, 0.0, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa7ffd79b04778eff37771de3e7090b5d7" title="Values outside the bounds of the data are linearly extrapolated from the nearest valid border values...">INTERPOLATED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1" title="1-dimensional nonlinear isotropic diffusion.">nonlinearIsotropicDiffusion</a>(signal, 2.0, 0.25, 0.0, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa5230ff7f81d556bffbabd62c9787e918" title="Values outside the bounds of the data are computed by reflecting the data.">REFLECTED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1" title="1-dimensional nonlinear isotropic diffusion.">nonlinearIsotropicDiffusion</a>(signal, 2.0, 0.25, 0.0, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3" title="Values outside the bounds of the data are assumed to be zero.">ZERO</a>));

     std::cout &lt;&lt; std::endl;
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1" title="1-dimensional nonlinear isotropic diffusion.">nonlinearIsotropicDiffusion</a>(signal, 1000.0, 0.25, 0.0, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614" title="Values outside the bounds of the data are the same as the nearest valid border values.">CONTINUED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1" title="1-dimensional nonlinear isotropic diffusion.">nonlinearIsotropicDiffusion</a>(signal, 1000.0, 0.25, 0.0, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3" title="Values outside the bounds of the data are assumed to be zero.">ZERO</a>));

     <span class="keywordflow">return</span> 0;
 }
</pre></div><p>Output:</p>
<div class="fragment"><pre class="fragment">   0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  1.0000  1.0000  1.0000  1.0000  1.0000  1.0000
   0.0000  0.0000  0.0000  0.0000  0.0625  0.0625  0.9375  0.9375  1.0000  1.0000  1.0000  1.0000
   0.0000  0.0000  0.0039  0.0039  0.1133  0.1133  0.8867  0.8867  0.9961  0.9961  1.0000  1.0000
   0.0002  0.0002  0.0105  0.0105  0.1548  0.1548  0.8452  0.8452  0.9895  0.9895  0.9998  0.9998
   0.0009  0.0009  0.0189  0.0189  0.1889  0.1889  0.8111  0.8111  0.9811  0.9811  0.9991  0.9991

   0.0085  0.0085  0.0595  0.0595  0.2772  0.2772  0.7228  0.7228  0.9405  0.9405  0.9915  0.9915
   0.0186  0.0100  0.0603  0.0596  0.2773  0.2772  0.7228  0.7227  0.9404  0.9397  0.9900  0.9814
   0.0085  0.0085  0.0595  0.0595  0.2772  0.2772  0.7228  0.7228  0.9405  0.9405  0.9915  0.9915
   0.0085  0.0078  0.0595  0.0595  0.2765  0.2772  0.7142  0.7228  0.8732  0.9405  0.6555  0.9915

   0.5000  0.5000  0.5000  0.5000  0.5000  0.5000  0.5000  0.5000  0.5000  0.5000  0.5000  0.5000
   0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>An interpolation method of "INTERPOLATED" might invalidate the minimum-maximum principle of this diffusion equation.</dd></dl>
<dl class="user"><dt><b>References:</b></dt><dd>Perona and Malik, "Scale-space and edge detection using
             anisotropic diffusion", Pattern Analysis and Machine Intelligence, 1990</dd></dl>
<dl class="user"><dt><b>References:</b></dt><dd>Brox et al., "Nonlinear Structure Tensors", Image and Vision Computing, 2006</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Christoph Haenisch </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1.0 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>last changed on 2011-06-22 </dd></dl>

<p>Definition at line <a class="el" href="_diffusion_8hpp_source.html#l00749">749</a> of file <a class="el" href="_diffusion_8hpp_source.html">Diffusion.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab684a9a65faefcca71bef82c22cb0edb"></a><!-- doxytag: member="TRTK::Diffusion::nonlinearIsotropicDiffusion" ref="ab684a9a65faefcca71bef82c22cb0edb" args="(const std::vector&lt; T &gt; &amp;signal, T(*diffusivity)(T), T time, T step_size=0.25, BorderInterpolation interpolation_method=CONTINUED)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;T&gt; TRTK::Diffusion::nonlinearIsotropicDiffusion </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"> <em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T(*)(T)&#160;</td>
          <td class="paramname"> <em>diffusivity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>step_size</em> = <code>0.25</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BorderInterpolation&#160;</td>
          <td class="paramname"> <em>interpolation_method</em> = <code>CONTINUED</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1-dimensional nonlinear isotropic diffusion. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>input signal \( f(x, t = 0) \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">diffusivity</td><td>diffusivity \( D(x) \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>diffusion time \( t_{end} \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">step_size</td><td>should be less than 0.25 to guarantee stability </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interpolation_method</td><td><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">interpolation method</a> used for the differentiation</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the diffused signal \( f(x, t = t_{end}) \).</dd></dl>
<p>This function computes the diffusion of a given signal \( f(x, t = 0) \) by solving the following diffusion equation:</p>
<p class="formulaDsp">
\[ \frac{d}{dt} f(x, t) = \frac{d}{dx} \left[ D \left( \frac{d}{dx} f(x, t) \right) \cdot \frac{d}{dx} f(x, t) \right] \]
</p>
<p>Note, if \( D(x) = 1 \), the above diffusion is a linear diffusion which is equivalent to a convolution with a Gaussian kernel with the variance \( \sigma = \sqrt{2t_{end}} \).</p>
<p>Here is an example:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;iostream&gt;</span>
<span class="preprocessor"> #include &lt;vector&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_diffusion_8hpp.html" title="This file contains several diffusion functions as well as some helper functions.">TRTK/Diffusion.hpp</a>&gt;</span>

 <span class="keyword">using namespace </span>TRTK;
 <span class="keyword">using namespace </span>TRTK::Diffusion;

 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> sz&gt;
 char (&amp;array(T(&amp;)[sz]))[sz];

 <span class="keywordtype">void</span> print(<span class="keyword">const</span> std::vector&lt;double&gt; &amp; data)
 {
     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; data.size(); ++i)
     {
         std::cout.precision(4);
         std::cout.width(8);
         std::cout &lt;&lt; std::fixed &lt;&lt; data[i];
     }
     std::cout &lt;&lt; std::endl;
 }

 <span class="keywordtype">double</span> diffusivity(<span class="keywordtype">double</span> value)
 {
     <span class="keyword">const</span> <span class="keywordtype">double</span> epsilon = 1e-14;
     <span class="keywordflow">return</span> 1.0 / (std::abs(value) + epsilon);
 }

 <span class="keywordtype">int</span> main()
 {
     <span class="keywordtype">double</span> data[] = {0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0};

     std::vector&lt;double&gt; signal = std::vector&lt;double&gt;(data, data + <span class="keyword">sizeof</span> array(data));

     <span class="keywordflow">for</span> (<span class="keywordtype">double</span> time = 0; time &lt;= 1; time += 0.25)
     {
         print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#afc3207b53c183061635b58850cf420d1" title="1-dimensional nonlinear isotropic diffusion.">nonlinearIsotropicDiffusion</a>(signal, diffusivity, time, 0.5));
     }

     <span class="keywordflow">return</span> 0;
 }
</pre></div><p>Output:</p>
<div class="fragment"><pre class="fragment">   0.00    0.00    0.00    0.00    0.00    0.00    1.00    1.00    1.00    1.00    1.00    1.00
   0.00    0.00    0.00    0.00    0.12    0.12    0.88    0.88    1.00    1.00    1.00    1.00
   0.00    0.00    0.00    0.00    0.25    0.25    0.75    0.75    1.00    1.00    1.00    1.00
   0.00    0.00    0.19    0.19    0.19    0.19    0.81    0.81    0.81    0.81    1.00    1.00
   0.00    0.00    0.25    0.25    0.25    0.25    0.75    0.75    0.75    0.75    1.00    1.00
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>An interpolation method of "INTERPOLATED" might invalidate the minimum-maximum principle of this diffusion equation.</dd></dl>
<dl class="user"><dt><b>References:</b></dt><dd>Perona and Malik, "Scale-space and edge detection using
             anisotropic diffusion", Pattern Analysis and Machine Intelligence, 1990</dd></dl>
<dl class="user"><dt><b>References:</b></dt><dd>Brox et al., "Nonlinear Structure Tensors", Image and Vision Computing, 2006</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Christoph Haenisch </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1.0 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>last changed on 2011-06-22 </dd></dl>

<p>Definition at line <a class="el" href="_diffusion_8hpp_source.html#l00924">924</a> of file <a class="el" href="_diffusion_8hpp_source.html">Diffusion.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aee6dc8fc48a6549e0aa8cdb514a3ba70"></a><!-- doxytag: member="TRTK::Diffusion::secondDerivative" ref="aee6dc8fc48a6549e0aa8cdb514a3ba70" args="(const std::vector&lt; T &gt; &amp;signal, const BorderInterpolation interpolation=CONTINUED)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;T&gt; TRTK::Diffusion::secondDerivative </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"> <em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BorderInterpolation&#160;</td>
          <td class="paramname"> <em>interpolation</em> = <code>CONTINUED</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the 2nd derivative of a 1-dimensional signal. </p>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">T</td><td>scalar type (must be a floating point type)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>input signal </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interpolation</td><td><a class="el" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948f">interpolation method</a> for the border values</td></tr>
  </table>
  </dd>
</dl>
<p>The derivative is computed by convolving <code>signal</code> with the kernel <code>[1 -2 1]</code>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>2nd derivative of the input signal.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_t_r_t_k_1_1_error_obj.html" title="Error class that incorporates additional information.">ErrorObj</a></td><td>If an unknown interpolation method is assigned, an error object is thrown and its error code is set to <code>INVALID_ARGUMENT</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>Here ist an example:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;iostream&gt;</span>
<span class="preprocessor"> #include &lt;vector&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_diffusion_8hpp.html" title="This file contains several diffusion functions as well as some helper functions.">TRTK/Diffusion.hpp</a>&gt;</span>

 <span class="keyword">using namespace </span>TRTK;
 <span class="keyword">using namespace </span>TRTK::Diffusion;

 <span class="keywordtype">void</span> print(<span class="keyword">const</span> std::vector&lt;double&gt; &amp; data)
 {
     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; data.size(); ++i)
     {
         std::cout.precision(2);
         std::cout.width(8);
         std::cout &lt;&lt; std::fixed &lt;&lt; data[i];
     }
     std::cout &lt;&lt; std::endl;
 }

 <span class="keywordtype">int</span> main()
 {
     std::vector&lt;double&gt; signal;

     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; 10; ++i)
     {
         signal.push_back(i * i + 3);
     }

     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aee6dc8fc48a6549e0aa8cdb514a3ba70" title="Computes the 2nd derivative of a 1-dimensional signal.">secondDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948faae32f83d8290d69338d3ab4627302614" title="Values outside the bounds of the data are the same as the nearest valid border values.">CONTINUED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aee6dc8fc48a6549e0aa8cdb514a3ba70" title="Computes the 2nd derivative of a 1-dimensional signal.">secondDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa7ffd79b04778eff37771de3e7090b5d7" title="Values outside the bounds of the data are linearly extrapolated from the nearest valid border values...">INTERPOLATED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aee6dc8fc48a6549e0aa8cdb514a3ba70" title="Computes the 2nd derivative of a 1-dimensional signal.">secondDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fa5230ff7f81d556bffbabd62c9787e918" title="Values outside the bounds of the data are computed by reflecting the data.">REFLECTED</a>));
     print(<a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#aee6dc8fc48a6549e0aa8cdb514a3ba70" title="Computes the 2nd derivative of a 1-dimensional signal.">secondDerivative</a>(signal, <a class="code" href="namespace_t_r_t_k_1_1_diffusion.html#a000aaab57a12719e7b6cdfeea44c948fac4ebb1cb6d965495091ead86dcfbb8b3" title="Values outside the bounds of the data are assumed to be zero.">ZERO</a>));

     <span class="keywordflow">return</span> 0;
 }
</pre></div><p>Output:</p>
<div class="fragment"><pre class="fragment">   1.00    2.00    2.00    2.00    2.00    2.00    2.00    2.00    2.00  -17.00
   0.00    2.00    2.00    2.00    2.00    2.00    2.00    2.00    2.00    0.00
   1.00    2.00    2.00    2.00    2.00    2.00    2.00    2.00    2.00  -17.00
  -2.00    2.00    2.00    2.00    2.00    2.00    2.00    2.00    2.00 -101.00
</pre></div><dl class="author"><dt><b>Author:</b></dt><dd>Christoph Haenisch </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1.0 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>last changed on 2011-06-22 </dd></dl>

<p>Definition at line <a class="el" href="_diffusion_8hpp_source.html#l00360">360</a> of file <a class="el" href="_diffusion_8hpp_source.html">Diffusion.hpp</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/>
    <address class="footer">
        <small>
            Copyright 2010 - 2019 by Christoph Hänisch,
            Chair of Medical Engineering (mediTEC),
            RWTH Aachen University <p>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>

</body>
</html>
