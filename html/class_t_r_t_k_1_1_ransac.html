<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Transformation and Registration Toolkit: TRTK::Ransac&lt; T, DataType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<script src="../mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespace_t_r_t_k.html">TRTK</a>      </li>
      <li><a class="el" href="class_t_r_t_k_1_1_ransac.html">Ransac</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>TRTK::Ransac&lt; T, DataType &gt; Class Template Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="TRTK::Ransac" -->
<p>Robust model fitting.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>&gt;</code></p>
<!-- startSectionHeader --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Collaboration diagram for TRTK::Ransac&lt; T, DataType &gt;:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-0-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_t_r_t_k_1_1_ransac__coll__graph.png" border="0" usemap="#_t_r_t_k_1_1_ransac_3_01_t_00_01_data_type_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="_t_r_t_k_1_1_ransac_3_01_t_00_01_data_type_01_4_coll__map" id="_t_r_t_k_1_1_ransac_3_01_t_00_01_data_type_01_4_coll__map">
<area shape="rect" id="node2" href="class_t_r_t_k_1_1_ransac_1_1_model.html" title="Interface class for models to be used with the Ransac class." alt="" coords="5,5,264,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="class_t_r_t_k_1_1_ransac-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html">Model</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface class for models to be used with the <a class="el" href="class_t_r_t_k_1_1_ransac.html" title="Robust model fitting.">Ransac</a> class.  <a href="class_t_r_t_k_1_1_ransac_1_1_model.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a58eb13e60537ae253f1ba37dadafc8ae">Algorithm</a> { <a class="el" href="class_t_r_t_k_1_1_ransac.html#a58eb13e60537ae253f1ba37dadafc8aeaf68c106ffae357639ba1946f8811cfbe">RANSAC</a>, 
<a class="el" href="class_t_r_t_k_1_1_ransac.html#a58eb13e60537ae253f1ba37dadafc8aea06486d694bed15598f6c390823a89af2">RANSAC_BIGGEST_CONSESUS_SET</a>, 
<a class="el" href="class_t_r_t_k_1_1_ransac.html#a58eb13e60537ae253f1ba37dadafc8aeae7b10acb784da9e48074d09c368a91db">RANSAC_SMALLEST_RMSE</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a7efc0bf54767148aa93cc3ce06bd4504">Error</a> { <br/>
&#160;&#160;<a class="el" href="class_t_r_t_k_1_1_ransac.html#a7efc0bf54767148aa93cc3ce06bd4504a0f701342ccdbcf4224ab1a378957238d">NO_DATA_AVAILABLE</a>, 
<a class="el" href="class_t_r_t_k_1_1_ransac.html#a7efc0bf54767148aa93cc3ce06bd4504a2224f3f1a2c9fdfa5213ae3f4673c63d">NO_MODEL_AVAILABLE</a>, 
<a class="el" href="class_t_r_t_k_1_1_ransac.html#a7efc0bf54767148aa93cc3ce06bd4504a3c786748aed2f29451278deef7caccef">NOT_ENOUGH_DATA_POINTS</a>, 
<a class="el" href="class_t_r_t_k_1_1_ransac.html#a7efc0bf54767148aa93cc3ce06bd4504ae55b43b69b34554f264ea4a505d9a0af">UNKNOWN_ALGORITHM</a>, 
<br/>
&#160;&#160;<a class="el" href="class_t_r_t_k_1_1_ransac.html#a7efc0bf54767148aa93cc3ce06bd4504abd03f6c344e6eda73c1c1f4f743cdd61">UNKNOWN_ERROR</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#ada11394d4988a8868d82f1d5ce7c643b">compute</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the model fitting algorithm.  <a href="#ada11394d4988a8868d82f1d5ce7c643b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06fc3701cd2045d54d0da0610668c2e8"></a><!-- doxytag: member="TRTK::Ransac::setAlgorithm" ref="a06fc3701cd2045d54d0da0610668c2e8" args="(Algorithm algorithm=RANSAC)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a06fc3701cd2045d54d0da0610668c2e8">setAlgorithm</a> (<a class="el" href="class_t_r_t_k_1_1_ransac.html#a58eb13e60537ae253f1ba37dadafc8ae">Algorithm</a> algorithm=RANSAC)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the algorithm used to compute the consensus set. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78de0185d2be75a2928edbe7d82eeedc"></a><!-- doxytag: member="TRTK::Ransac::setData" ref="a78de0185d2be75a2928edbe7d82eeedc" args="(const std::vector&lt; DataType &gt; &amp;data)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a78de0185d2be75a2928edbe7d82eeedc">setData</a> (const std::vector&lt; DataType &gt; &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the sample data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a5e74dc3afc333f6c83faa191da8c07e6">setErrorTolerance</a> (T error_tolerance)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the error tolerance.  <a href="#a5e74dc3afc333f6c83faa191da8c07e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0de13bf843710820cf0075e61fef9fee"></a><!-- doxytag: member="TRTK::Ransac::setMinimumSetSize" ref="a0de13bf843710820cf0075e61fef9fee" args="(unsigned threshold)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a0de13bf843710820cf0075e61fef9fee">setMinimumSetSize</a> (unsigned threshold)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the minimal size a consensus set must have (not used by all alogrithms). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2cbaace4786c6d857a3fe81974e5cd9"></a><!-- doxytag: member="TRTK::Ransac::setModel" ref="ab2cbaace4786c6d857a3fe81974e5cd9" args="(Model &amp;model)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#ab2cbaace4786c6d857a3fe81974e5cd9">setModel</a> (<a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html">Model</a> &amp;model)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the model. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a32d783b30ad72e868c0a86171998fc47">setProbability</a> (T probability)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the probability that...  <a href="#a32d783b30ad72e868c0a86171998fc47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#aec285ab1b0ede66e012914ccd5200ed5">setThreshold</a> (unsigned threshold)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a threshold...  <a href="#aec285ab1b0ede66e012914ccd5200ed5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1247052951b9fd3a1d7fc456e7438339"></a><!-- doxytag: member="TRTK::Ransac::setTrials" ref="a1247052951b9fd3a1d7fc456e7438339" args="(unsigned number)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a1247052951b9fd3a1d7fc456e7438339">setTrials</a> (unsigned number)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum number of attempts to find a consensus set. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a7a7399e64e01a41ee8f32453fecda426">algorithmRansac</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">RANSAC algorithm as described by Fischler and Bolles.  <a href="#a7a7399e64e01a41ee8f32453fecda426"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#a45d171e5a83cb32b2c1ec04168fea7b0">algorithmRansacBiggestConsensusSet</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Modified version of the RANSAC algorithm as described by Fischler and Bolles.  <a href="#a45d171e5a83cb32b2c1ec04168fea7b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac.html#af2d410c8fd87c4dcc9aa14e01e280253">algorithmRansacSmallestRmse</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Modified version of the RANSAC algorithm as described by Fischler and Bolles.  <a href="#af2d410c8fd87c4dcc9aa14e01e280253"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a180f79e3c95da2055f93270196ee0d3b"></a><!-- doxytag: member="TRTK::Ransac::data" ref="a180f79e3c95da2055f93270196ee0d3b" args="" -->
const std::vector&lt; DataType &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>data</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4ed04699e06c7f1bb16fac11a0bf4c2"></a><!-- doxytag: member="TRTK::Ransac::model" ref="ab4ed04699e06c7f1bb16fac11a0bf4c2" args="" -->
<a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html">Model</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>model</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a229addead20384cf2e1a67a6f86e5417"></a><!-- doxytag: member="TRTK::Ransac::error_tolerance" ref="a229addead20384cf2e1a67a6f86e5417" args="" -->
T&#160;</td><td class="memItemRight" valign="bottom"><b>error_tolerance</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d54792622e90361425bd6ba960d3f9d"></a><!-- doxytag: member="TRTK::Ransac::threshold" ref="a1d54792622e90361425bd6ba960d3f9d" args="" -->
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>threshold</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95a7380efdd0fb325b792f4ec1cfeca8"></a><!-- doxytag: member="TRTK::Ransac::trials" ref="a95a7380efdd0fb325b792f4ec1cfeca8" args="" -->
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>trials</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7837df41963e26aef1fc9f2096ab929"></a><!-- doxytag: member="TRTK::Ransac::probability" ref="ab7837df41963e26aef1fc9f2096ab929" args="" -->
T&#160;</td><td class="memItemRight" valign="bottom"><b>probability</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab83efc2aa0476d11f08592bf4d200bf0"></a><!-- doxytag: member="TRTK::Ransac::minimumSetSize" ref="ab83efc2aa0476d11f08592bf4d200bf0" args="" -->
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>minimumSetSize</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae35baaf5dea0df8d31182ec1ac30559"></a><!-- doxytag: member="TRTK::Ransac::algorithm" ref="aae35baaf5dea0df8d31182ec1ac30559" args=")()" -->
unsigned(Ransac::*&#160;</td><td class="memItemRight" valign="bottom"><b>algorithm</b> )()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T, class DataType = Coordinate&lt;T&gt;&gt;<br/>
 class TRTK::Ransac&lt; T, DataType &gt;</h3>

<p>Robust model fitting. </p>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">T</td><td>Scalar type (must be a floating point). </td></tr>
    <tr><td class="paramname">DataType</td><td>Type of the data points.</td></tr>
  </table>
  </dd>
</dl>
<p>The RANSAC algorithm works by taking initial data sets (where a set contains as few points as feasible, just to support the model) and by enlarging these sets with consistent data. Finally the bigest consensus set is taken and a new refined model is computed from these data points. This algorithm conform to the original algorithm described by Fischler and Bolles. However, this class also provides several variations of this algorithm.</p>
<p>All algorithms assume that there are two sources of error. First, measurement errors which in general are small and normally distributed; these average out while doing a regression analysis. Second, gross errors which are quite big and arbitrarily distributed. All algorithms assume that you define some error bound (which constitutes the deviation of a datum to an estimated model) which should be chosen such that all gross errors are neglected but as many as possible good points are taken into consideration. Since measurement errors are quite small, this is often easily possible.</p>
<p>If no maximum number of attempts (<a class="el" href="class_t_r_t_k_1_1_ransac.html#a1247052951b9fd3a1d7fc456e7438339">trials</a>) to find a consensus set is given, it is automatically computed from the minimum number of samples needed to compute a model as well as from the <a class="el" href="class_t_r_t_k_1_1_ransac.html#a32d783b30ad72e868c0a86171998fc47">probability</a> (the default value is 0.2) that any selected data point for such a minimal set is within the given <a class="el" href="class_t_r_t_k_1_1_ransac.html#a5e74dc3afc333f6c83faa191da8c07e6">error tolerance</a>. If no <a class="el" href="class_t_r_t_k_1_1_ransac.html#aec285ab1b0ede66e012914ccd5200ed5">threshold</a> is given, it is set to 8/10 of the size of <code>data</code>. The default algorithm is "RANSAC".</p>
<p>The class works according to the strategy pattern; the class as is constitutes the context and all models used form the strategies. A regression model (e.g. a line fitting model) must conform to a certain interfacen, namely <a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html">Model</a>. See the example below.</p>
<p>Example:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;iostream&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_ransac_8hpp.html" title="This file contains the Ransac class.">TRTK/Ransac.hpp</a>&gt;</span>
<span class="preprocessor"> #include &lt;TRTK/RansacModelFitLine.hpp&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_tools_8hpp.html" title="This file contains various helper functions.">TRTK/Tools.hpp</a>&gt;</span>

 <span class="keyword">using namespace </span>std;
 <span class="keyword">using namespace </span>TRTK;
 <span class="keyword">using namespace </span>TRTK::Tools;


 <span class="keywordtype">int</span> main()
 {
     <span class="comment">// Construct some points lying on a line and add some noise and outliers.</span>

     vector&lt;Coordinate&lt;double&gt; &gt; points;

     <span class="keywordtype">double</span> slope = 0.7;
     <span class="keywordtype">double</span> y_intercept = -3;

     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = -10; i &lt; 10; ++i)
     {
         <span class="comment">// Noisy measurement.</span>

         <span class="keywordtype">double</span> x = i + <a class="code" href="namespace_t_r_t_k_1_1_tools.html#af3e27549e897ba171512b3d81a4a7b70" title="Random sample of the normal distribution.">randn</a>(0.0, 0.1);
         <span class="keywordtype">double</span> y = i * slope + y_intercept + <a class="code" href="namespace_t_r_t_k_1_1_tools.html#af3e27549e897ba171512b3d81a4a7b70" title="Random sample of the normal distribution.">randn</a>(0.0, 0.1);

         Coordinate&lt;double&gt; point(x, y);

         points.push_back(point);
     }

     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 5; ++i)
     {
         <span class="comment">// Gros outliers.</span>

         <span class="keywordtype">double</span> x = <a class="code" href="namespace_t_r_t_k_1_1_tools.html#a906509578c3f4dec953fa41ed8e06ec9" title="Random sample of the standard uniform distribution.">rand</a>(-10.0, 10.0);
         <span class="keywordtype">double</span> y = <a class="code" href="namespace_t_r_t_k_1_1_tools.html#a906509578c3f4dec953fa41ed8e06ec9" title="Random sample of the standard uniform distribution.">rand</a>(-10.0, 10.0);

         Coordinate&lt;double&gt; point(x, y);

         points.push_back(point);
     }

     <span class="comment">// Estimate the line parameters using ordinary least sqares.</span>

     FitLine&lt;double&gt; fitLine;
     fitLine.setPoints(points);
     fitLine.compute();

     cout &lt;&lt; <span class="stringliteral">&quot;Slope: &quot;</span> &lt;&lt; fitLine.getSlope() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Y-intercept: &quot;</span> &lt;&lt; fitLine.getYIntercept() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Direction Vector: &quot;</span> &lt;&lt; fitLine.getDirectionVector() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Distance from origin: &quot;</span> &lt;&lt; fitLine.getDistanceFromOrigin() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;RMSE: &quot;</span> &lt;&lt; fitLine.getRMS() &lt;&lt; endl &lt;&lt; endl;

     <span class="comment">// Estimate the line parameters using RANSAC.</span>

     Ransac&lt;double&gt; ransac;
     RansacModelFitLine&lt;double&gt; model;

     ransac.setModel(model);
     ransac.setData(points);
     ransac.setErrorTolerance(0.2);

     <span class="keywordtype">unsigned</span> number_of_samples_used = ransac.compute();

     cout &lt;&lt; <span class="stringliteral">&quot;Slope: &quot;</span> &lt;&lt; model.getSlope() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Y-intercept: &quot;</span> &lt;&lt; model.getYIntercept() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Direction Vector: &quot;</span> &lt;&lt; model.getDirectionVector() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Distance from origin: &quot;</span> &lt;&lt; model.getDistanceFromOrigin() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Number of samples used: &quot;</span> &lt;&lt; number_of_samples_used &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;RMSE: &quot;</span> &lt;&lt; model.getRMS() &lt;&lt; endl;

     <span class="keywordflow">return</span> 0;
 }
</pre></div><p>Output:</p>
<div class="fragment"><pre class="fragment"> Slope: 0.824709
 Y-intercept: -2.97947
 Direction Vector: (-0.771483, -0.63625)
 Distance from origin: 2.29861
 RMSE: 2.27904

 Slope: 0.691347
 Y-intercept: -3.00877
 Direction Vector: (-0.822562, -0.568676)
 Distance from origin: 2.4749
 Number of samples used: 19
 RMSE: 0.0712661
</pre></div><dl class="user"><dt><b>References:</b></dt><dd></dd></dl>
<p>"Random Sample Consensus: A Paradigm for Model Fitting with Applications
 to Image Analysis and Automated Cartography", Fischler and Bolles, 1981, Communications of the ACM</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html" title="Interface class for models to be used with the Ransac class.">Model</a></dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Christoph Haenisch </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1.0 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>last changed on 2012-03-23 </dd></dl>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00186">186</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a58eb13e60537ae253f1ba37dadafc8ae"></a><!-- doxytag: member="TRTK::Ransac::Algorithm" ref="a58eb13e60537ae253f1ba37dadafc8ae" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType  = Coordinate&lt;T&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_r_t_k_1_1_ransac.html#a58eb13e60537ae253f1ba37dadafc8ae">TRTK::Ransac::Algorithm</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a58eb13e60537ae253f1ba37dadafc8aeaf68c106ffae357639ba1946f8811cfbe"></a><!-- doxytag: member="RANSAC" ref="a58eb13e60537ae253f1ba37dadafc8aeaf68c106ffae357639ba1946f8811cfbe" args="" -->RANSAC</em>&nbsp;</td><td>
<p>RANSAC algorithm as described by Fischler and Bolles. If a consensus set is found whose size is greater than <code>threshold</code> then this set is taken to compute a new model and the algorithm is terminated. Otherwise a new model is computed from the biggest consensus set found. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a58eb13e60537ae253f1ba37dadafc8aea06486d694bed15598f6c390823a89af2"></a><!-- doxytag: member="RANSAC_BIGGEST_CONSESUS_SET" ref="a58eb13e60537ae253f1ba37dadafc8aea06486d694bed15598f6c390823a89af2" args="" -->RANSAC_BIGGEST_CONSESUS_SET</em>&nbsp;</td><td>
<p>A new model is always computed from the biggest consensus set. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a58eb13e60537ae253f1ba37dadafc8aeae7b10acb784da9e48074d09c368a91db"></a><!-- doxytag: member="RANSAC_SMALLEST_RMSE" ref="a58eb13e60537ae253f1ba37dadafc8aeae7b10acb784da9e48074d09c368a91db" args="" -->RANSAC_SMALLEST_RMSE</em>&nbsp;</td><td>
<p>The model with the smallest RMSE is taken. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00200">200</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7efc0bf54767148aa93cc3ce06bd4504"></a><!-- doxytag: member="TRTK::Ransac::Error" ref="a7efc0bf54767148aa93cc3ce06bd4504" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType  = Coordinate&lt;T&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_r_t_k_1_1_ransac.html#a7efc0bf54767148aa93cc3ce06bd4504">TRTK::Ransac::Error</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a7efc0bf54767148aa93cc3ce06bd4504a0f701342ccdbcf4224ab1a378957238d"></a><!-- doxytag: member="NO_DATA_AVAILABLE" ref="a7efc0bf54767148aa93cc3ce06bd4504a0f701342ccdbcf4224ab1a378957238d" args="" -->NO_DATA_AVAILABLE</em>&nbsp;</td><td>
<p>No data points were given. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7efc0bf54767148aa93cc3ce06bd4504a2224f3f1a2c9fdfa5213ae3f4673c63d"></a><!-- doxytag: member="NO_MODEL_AVAILABLE" ref="a7efc0bf54767148aa93cc3ce06bd4504a2224f3f1a2c9fdfa5213ae3f4673c63d" args="" -->NO_MODEL_AVAILABLE</em>&nbsp;</td><td>
<p>No regression model was set. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7efc0bf54767148aa93cc3ce06bd4504a3c786748aed2f29451278deef7caccef"></a><!-- doxytag: member="NOT_ENOUGH_DATA_POINTS" ref="a7efc0bf54767148aa93cc3ce06bd4504a3c786748aed2f29451278deef7caccef" args="" -->NOT_ENOUGH_DATA_POINTS</em>&nbsp;</td><td>
<p>There are not enough data points to compute the model. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7efc0bf54767148aa93cc3ce06bd4504ae55b43b69b34554f264ea4a505d9a0af"></a><!-- doxytag: member="UNKNOWN_ALGORITHM" ref="a7efc0bf54767148aa93cc3ce06bd4504ae55b43b69b34554f264ea4a505d9a0af" args="" -->UNKNOWN_ALGORITHM</em>&nbsp;</td><td>
<p>The algorithm does not exist or is not yet implemented. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7efc0bf54767148aa93cc3ce06bd4504abd03f6c344e6eda73c1c1f4f743cdd61"></a><!-- doxytag: member="UNKNOWN_ERROR" ref="a7efc0bf54767148aa93cc3ce06bd4504abd03f6c344e6eda73c1c1f4f743cdd61" args="" -->UNKNOWN_ERROR</em>&nbsp;</td><td>
<p>An unknown error occurred. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00207">207</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7a7399e64e01a41ee8f32453fecda426"></a><!-- doxytag: member="TRTK::Ransac::algorithmRansac" ref="a7a7399e64e01a41ee8f32453fecda426" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="class_t_r_t_k_1_1_ransac.html">TRTK::Ransac</a>&lt; T, DataType &gt;::algorithmRansac </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RANSAC algorithm as described by Fischler and Bolles. </p>
<p>If a consensus set is found whose size is greater than a given threshold then this set is taken to compute a new model and the algorithm is terminated. Otherwise a new model is computed from the biggest consensus set found.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the number of items used to compute the model. </dd></dl>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00279">279</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a45d171e5a83cb32b2c1ec04168fea7b0"></a><!-- doxytag: member="TRTK::Ransac::algorithmRansacBiggestConsensusSet" ref="a45d171e5a83cb32b2c1ec04168fea7b0" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="class_t_r_t_k_1_1_ransac.html">TRTK::Ransac</a>&lt; T, DataType &gt;::algorithmRansacBiggestConsensusSet </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Modified version of the RANSAC algorithm as described by Fischler and Bolles. </p>
<p>A new model is always computed from the biggest consensus set.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the number of items used to compute the model. </dd></dl>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00383">383</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af2d410c8fd87c4dcc9aa14e01e280253"></a><!-- doxytag: member="TRTK::Ransac::algorithmRansacSmallestRmse" ref="af2d410c8fd87c4dcc9aa14e01e280253" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="class_t_r_t_k_1_1_ransac.html">TRTK::Ransac</a>&lt; T, DataType &gt;::algorithmRansacSmallestRmse </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Modified version of the RANSAC algorithm as described by Fischler and Bolles. </p>
<p>The model with the smallest RMSE is taken. The consensus set must be bigger than a given threshold (see <a class="el" href="class_t_r_t_k_1_1_ransac.html#a0de13bf843710820cf0075e61fef9fee">setMinimumSetSize()</a>), otherwise no model is estimated (i.e. the algorithm returns 0).</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the number of items used to compute the model. </dd></dl>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00477">477</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ada11394d4988a8868d82f1d5ce7c643b"></a><!-- doxytag: member="TRTK::Ransac::compute" ref="ada11394d4988a8868d82f1d5ce7c643b" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="class_t_r_t_k_1_1_ransac.html">TRTK::Ransac</a>&lt; T, DataType &gt;::compute </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Runs the model fitting algorithm. </p>
<p>If no maximum number of attempts (trials) to find a consensus set is given, it is automatically computed from the minimum number of samples needed to compute a model as well as from the probability that any selected data point for such a minimal set is within the given error tolerance. See the references for more details. If no threshold is given, it is set to 8/10 of the size of data.</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_t_r_t_k_1_1_error_obj.html" title="Error class that incorporates additional information.">ErrorObj</a></td><td>If the regression model is not set, an error object is thrown and its error code set to <code>NO_MODEL_AVAILABLE</code>.</td></tr>
    <tr><td class="paramname"><a class="el" href="class_t_r_t_k_1_1_error_obj.html" title="Error class that incorporates additional information.">ErrorObj</a></td><td>If no data is given, an error obejct is thrown and its error code set to <code>NO_DATA_AVAILABLE</code>.</td></tr>
    <tr><td class="paramname"><a class="el" href="class_t_r_t_k_1_1_error_obj.html" title="Error class that incorporates additional information.">ErrorObj</a></td><td>If there are not enough data points to compute the model, an error object is thrown and its error code set to <code>NOT_ENOUGH_DATA_POINTS</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the number of items used to compute the model. </dd></dl>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00603">603</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5e74dc3afc333f6c83faa191da8c07e6"></a><!-- doxytag: member="TRTK::Ransac::setErrorTolerance" ref="a5e74dc3afc333f6c83faa191da8c07e6" args="(T error_tolerance)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_r_t_k_1_1_ransac.html">TRTK::Ransac</a>&lt; T, DataType &gt;::setErrorTolerance </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>error_tolerance</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the error tolerance. </p>
<p>Sets the error tolerance for establishing the datum-model-compatibility, i.e. the amount of how much a data point is allowed to deviate from the model. </p>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00738">738</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a32d783b30ad72e868c0a86171998fc47"></a><!-- doxytag: member="TRTK::Ransac::setProbability" ref="a32d783b30ad72e868c0a86171998fc47" args="(T probability)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_r_t_k_1_1_ransac.html">TRTK::Ransac</a>&lt; T, DataType &gt;::setProbability </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"> <em>probability</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the probability that... </p>
<p>... any selected data point in a minimal set for computing the model is within the given error tolerance. </p>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00769">769</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aec285ab1b0ede66e012914ccd5200ed5"></a><!-- doxytag: member="TRTK::Ransac::setThreshold" ref="aec285ab1b0ede66e012914ccd5200ed5" args="(unsigned threshold)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class DataType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_t_r_t_k_1_1_ransac.html">TRTK::Ransac</a>&lt; T, DataType &gt;::setThreshold </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"> <em>threshold</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a threshold... </p>
<p>... denoting a bound concerning the size of the consensus set after which some algorithms might stop looking for further consensus sets and instead use the current set to compute a new model. </p>

<p>Definition at line <a class="el" href="_ransac_8hpp_source.html#l00784">784</a> of file <a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/Programmierung/C/TRTK/include/TRTK/<a class="el" href="_ransac_8hpp_source.html">Ransac.hpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/>
    <address class="footer">
        <small>
            Copyright 2010 - 2019 by Christoph Hänisch,
            Chair of Medical Engineering (mediTEC),
            RWTH Aachen University <p>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>

</body>
</html>
