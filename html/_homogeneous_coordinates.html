<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Transformation and Registration Toolkit: Homogeneous Coordinates</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<script src="../mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Homogeneous Coordinates </h1>  </div>
</div>
<div class="contents">
<p>Many classes of this toolkit allow the use of <em>homogeneous</em> <em>coordinates</em> and they are also often used internally. But what are actually homogeneous coordinates?</p>
<p>Homogeneous coordinates are a generalization of Euclidean coordinates. They do not only represent ordinary coordinates of Euclidean space but also points at infinity. But the reason why we use them, is, that they allow for consistent manipulation of the Euclidean space (at least the way we use them...).</p>
<p>First let us have a look at a special case of homogeneous coordinates and generalize it later on. Let us regard an affine transformation, that is, a linear transformation followed by a translation:</p>
<p class="formulaDsp">
\[ y = Ax + b \]
</p>
<p>The expression contains two different operations, namely a matrix vector multiplication as well as a vector addition. But it can also be solely described by a linear equation (only one operation) if it is embedded into a higher dimensional vector space:</p>
<p class="formulaDsp">
\[ \begin{pmatrix} y \\ 1 \end{pmatrix} = \begin{pmatrix} A &amp; b \\ 0 &amp; 1 \end{pmatrix} \begin{pmatrix} x \\ 1 \end{pmatrix} \]
</p>
<p>Now, the linear map and the translation are treated in a uniform way, which was our primary goal. The coordinates \( (x, 1)^T \) and \( (y, 1)^T \) are (a special case of the) so called homogeneous coordinates. This can be interpreted such that the Eucledian coordinates \( x \) and \( y \) lie on the (hyper-) plane \( (p_1, ..., p_n, 1), \; p_i \in R \).</p>
<p>As said, this concept can be further extended. Instead of just mapping \( (x_1, \dots, x_n) \) to \( (x_1, \dots, x_n, 1) \), we also allow mappings where the last component is different from one. We now define homogeneous coordinates (dashed variable names) by the following relation:</p>
<p class="formulaDsp">
\[ \begin{pmatrix} x_1 \\ \vdots \\ x_n \end{pmatrix} = \frac{1}{x&#39;_{n+1}} \begin{pmatrix} x&#39;_1 \\ \vdots \\ x&#39;_n \end{pmatrix} \quad \sim \quad \begin{pmatrix} x&#39;_1 \\ \vdots \\ x&#39;_{n+1} \end{pmatrix} , \; x&#39;_{n+1} \ne 0 \]
</p>
<p>It follows directly, that homogeneous coordinates are equivalence classes since \( (1, 2, 3, 1)^T \) and \( (2, 4, 6, 2)^T \) relate to the same Euclidean coordinate \( (1, 2, 3)^T \). In other words: multiplying a homogeneous coordinate with a non-zero scalar represents the same point in Euclidean space.</p>
<p>Again, the change from homogeneous coordinates to Euclidean coordinates can be interpreted as a projection of the homogeneous coordinates to a (hyper-) plane with \( x&#39;_{n+1} = 1 \), where we can identify this (hyper-) plane with the Euclidean space.</p>
<p><em>Note:</em> Normally if working with homogeneous coordinates \( x&#39;_{n+1} \) is chosen to be \( 1 \).</p>
<p>Now, with the above definition of homogeneous coordinates, the affine transformation</p>
<p class="formulaDsp">
\[ y = Ax + b \quad \sim \quad y&#39; = A&#39;x&#39; \]
</p>
<p>becomes a two step procedure: First a linear map within homogeneous space is computed</p>
<p class="formulaDsp">
\[ \begin{pmatrix} y&#39;_1 \\ \vdots \\ y&#39;_{n+1} \end{pmatrix} = \begin{pmatrix} a_{1, 1} &amp; \dots &amp; a_{1, n} &amp; b_1 \\ \vdots &amp; \ddots &amp; \vdots &amp; \vdots \\ a_{n, 1} &amp; \dots &amp; a_{n, n} &amp; b_n \\ 0 &amp; \dots &amp; 0 &amp; 1 \end{pmatrix} \begin{pmatrix} x&#39;_1 \\ \vdots \\ x&#39;_{n+1} \end{pmatrix} \]
</p>
<p>and then a normalization step is done</p>
<p class="formulaDsp">
\[ \begin{pmatrix} y_1 \\ \vdots \\ y_n \end{pmatrix} = \frac{1}{y&#39;_{n+1}} \begin{pmatrix} y&#39;_1 \\ \vdots \\ y&#39;_n \end{pmatrix}. \]
</p>
<p>Until now, we only considered mappings where the last row of the homogeneous transformation matrix was \( (0, 0, \dots, 1) \). Essentially this is nothing else but another form of notation of ordinary affine transformations (given \( x&#39; \) is already normalized; then also the normalization step can be omitted). This changes if we also allow \( A&#39; \) to be an arbitrary matrix</p>
<p class="formulaDsp">
\[ \begin{pmatrix} y&#39;_1 \\ \vdots \\ y&#39;_{n+1} \end{pmatrix} = \begin{pmatrix} a&#39;_{1, 1} &amp; \dots &amp; a&#39;_{1, n+1} \\ \vdots &amp; \ddots &amp; \vdots \\ a&#39;_{n+1, 1} &amp; \dots &amp; a&#39;_{n+1, n+1} \\ \end{pmatrix} \begin{pmatrix} x&#39;_1 \\ \vdots \\ x&#39;_{n+1} \end{pmatrix}. \]
</p>
<p>In this case the resultant vector will in general have a last component unequal to one. This also means that a normalization step is necessary to obtain the Euclidean coordinate:</p>
<p class="formulaDsp">
\[ \begin{pmatrix} y_1 \\ \vdots \\ y_n \end{pmatrix} = \frac{1}{y&#39;_{n+1}} \begin{pmatrix} y&#39;_1 \\ \vdots \\ y&#39;_n \end{pmatrix} \]
</p>
<p>Again, this is what we interpreted as the projection before. In other words: an arbitrary transformation matrix performs a projective transformation. Translation, scaling, rotation, shearing etc. are only special cases of the projective transformation. Due to the normalization step, \( a&#39;_{n+1, n+1} \) can always chosen to be 1.</p>
<p>To get a more deeper insight into this topic you might want to have a look at [1].</p>
<dl class="user"><dt><b>References:</b></dt><dd>[1] "Homogeneous coordinates", Jules Bloomenthal and Jon Rokne, The Visual Computer 1994 </dd></dl>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/>
    <address class="footer">
        <small>
            Copyright 2010 - 2014 by Christoph Hänisch,
            Chair of Medical Engineering (mediTEC),
            RWTH Aachen University <p>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>

</body>
</html>
